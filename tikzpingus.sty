\def\filename{tikzpingus}
\ProvidesPackage{\filename}[2021/04/30 version v1.0 Penguins in TikZ]

\RequirePackage{tikz}
\usetikzlibrary{intersections,patterns.meta}

\pgfdeclarelayer{background}\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

\def\@pingu@color@ #1#2(#3,#4,#5){\definecolor{pingu@#1}{#2}{#3,#4,#5}}
\@pingu@color@{main}RGB(3,14,29)
\@pingu@color@{black}RGB(23,19,19)
\@pingu@color@{white}RGB(248,248,248)
\@pingu@color@{yellow}RGB(252,187,21)
\@pingu@color@{lightblue}RGB(174,229,243)
\@pingu@color@{blue}RGB(48,161,247)
\@pingu@color@{green}RGB(129,204,041)
\@pingu@color@{purple}RGB(244,48,93)
\def\@pingu@none{!hide}

\newdimen\pingu@one@eight     \pingu@one@eight=.125cm\relax
\newdimen\pingu@w@half        \pingu@w@half=\dimexpr1cm-.5\pingu@one@eight\relax
\newdimen\pingu@side@h@half   \pingu@side@h@half=1.275cm\relax
\newdimen\pingu@bend          \pingu@bend=\pingu@one@eight\relax
\newdimen\pingu@lower@off     \pingu@lower@off=.25cm\relax
\newdimen\pingu@outer@off     \pingu@outer@off=.25cm\relax
\def\basicfeetbend{45}
\newdimen\pingu@foot@outer@w  \pingu@foot@outer@w=4.5mm\relax
\newdimen\pingu@foot@outer@h  \pingu@foot@outer@h=.25cm\relax

\newdimen\pingu@foot@inner@w  \pingu@foot@inner@w=.55cm\relax
\newdimen\pingu@foot@inner@h  \pingu@foot@inner@h=.115cm\relax
\newdimen\pingu@foot@offset@w \pingu@foot@offset@w=-\pingu@one@eight\relax
\newdimen\pingu@foot@single@w \pingu@foot@single@w=.105cm\relax
\newdimen\pingu@foot@single@h \pingu@foot@single@h=.2cm\relax
\def\eyebaseang{38.5}
\newdimen\pingu@eye@shift     \pingu@eye@shift=.08cm\relax

\def\pingu@csappto#1#2{\expandafter\ifx\csname #1\endcsname\@empty\@namedef{#1}{#2}\else\expandafter\g@addto@macro\csname #1\endcsname{, #2}\fi}

\def\pingu@create@sel@err#1#2{%
	\PackageError{\filename}{There is no '#2' drawer for '#1'. Choose one of '\@nameuse{@pingu@#1@}'}{Or ask the package maintainer :D}%
}

% #1 name;
\def\pingu@create@selection#1{%
	\expandafter\let\csname @pingu@#1@\endcsname\@empty
	\expandafter\long\expandafter\def\csname pingu@#1@add\endcsname##1##2{%
		\pingu@csappto{@pingu@#1@}{##1}%
		\expandafter\long\expandafter\def\csname @pingu@drawer@#1@##1@\endcsname{##2}%
	}
	\expandafter\def\csname pingu@#1@select\endcsname##1{%
		\ifcsname @pingu@drawer@#1@##1@\endcsname
			\expandafter\let\csname @pingu@drawer@#1@\expandafter\endcsname\csname @pingu@drawer@#1@##1@\endcsname
		\else\pingu@create@sel@err{#1}{##1}\fi
	}%
	\csname pingu@#1@add\endcsname{none}{}%
}

\long\def\pingu@create@extra#1#2#3{\expandafter\newif\csname if@pingu@x@#1@\endcsname\tikzset{/pingu/.cd,#2,extra defaults/.append style={#3}}}
\def\pingu@set@extra#1#2{\csname @pingu@x@#1@#2\endcsname}

\pingu@create@selection{lefteye}
\pingu@create@selection{righteye}
\pingu@create@selection{leftwing}
\pingu@create@selection{rightwing}
\pingu@create@selection{hairstyle}
\pingu@create@selection{bill}

\def\pingu@color#1#2{\expandafter\def\csname pingu@color@#1\endcsname{#2}}

% HACK: store scale
\tikzset{/tikz/scale/.append code={\def\pingu@default@scale{#1}}}
\def\pingu@default@scale{1}

% TODO: other selections
\tikzset{%
  /pingu/.search also={/tikz,/pgf}, /pingu/.cd,%
  name/.code                    = \def\pingu@name{#1},
  scale/.code                   = \def\pingu@scale{#1},
  @pingu@all/.style             = {},
  @block/.style                 = {/pingu/@pingu@all=#1, fill=#1},
  @draw/.style                  = {/pingu/@pingu@all=#1, draw=#1},
  @text/.style                  = {transform shape,text=\pingu@color@body@main},
  @pingu/.style = {},
  % feet
  left foot/.code               = \pingu@color{foot@left}{#1},
  right foot/.code              = \pingu@color{foot@right}{#1},
  feet/.style                   = {/pingu/left foot={#1}, /pingu/right foot={#1}},
  % body
  body main/.code               = \pingu@color{body@main}{#1},
  body head/.code               = \pingu@color{body@head}{#1},
  body/.style                   = {/pingu/body main={#1}, /pingu/body head={#1}},
  % belly
  belly/.forward to             = /pingu/belly text,
  belly text/.style             = {/pingu/belly raw={\node[/pingu/@text] {#1};}},
  belly raw/.code               = \def\pingu@belly@raw{#1},
  % eyes
  left eye/.code                = \pingu@lefteye@select{#1},
  left eye color/.code          = \pingu@color{eye@left}{#1},
  left second eye color/.code   = \pingu@color{eye@second@left}{#1},
  right eye/.code               = \pingu@righteye@select{#1},
  right eye color/.code         = \pingu@color{eye@right}{#1},
  right second eye color/.code  = \pingu@color{eye@second@right}{#1},
  eyes/.style                   = {/pingu/left eye={#1}, /pingu/right eye={#1}},
  eyes color/.style             = {/pingu/left eye color={#1}, /pingu/right eye color={#1}},
  second eyes color/.style      = {/pingu/left second eye color={#1}, /pingu/right second eye color={#1}},
  % wings
  left wing color/.code         = \pingu@color{left@wing}{#1},
  left wing/.code               = \pingu@leftwing@select{#1},
  right wing color/.code        = \pingu@color{right@wing}{#1},
  right wing/.code              = \pingu@rightwing@select{#1},
  wings/.style                  = {/pingu/left wing={#1}, /pingu/right wing={#1}},
  wings color/.style            = {/pingu/left wing color={#1},
                                   /pingu/right wing color={#1}},
  % bill
  bill/.code                    = \pingu@bill@select{#1},
  bill color/.code              = \pingu@color{bill}{#1},
  % hair color TODO: other colors
  hair/.forward to              = /pingu/hairs color,
  hairs/.forward to             = /pingu/hairs color,
  hair 1/.forward to = /pingu/hair 1 color,
  hair 1 color/.code            = \pingu@color{hair@a}{#1},
  hair 2/.forward to = /pingu/hair 2 color,
  hair 2 color/.code            = \pingu@color{hair@b}{#1},
  hair 3/.forward to = /pingu/hair 3 color,
  hair 3 color/.code            = \pingu@color{hair@c}{#1},
  hair 4/.forward to = /pingu/hair 4 color,
  hair 4 color/.code            = \pingu@color{hair@d}{#1},
  hair 5/.forward to = /pingu/hair 5 color,
  hair 5 color/.code            = \pingu@color{hair@e}{#1},
  hairs color/.style            = {/pingu/hair 1 color={#1}, /pingu/hair 2 color={#1},
                                   /pingu/hair 3 color={#1}, /pingu/hair 4 color={#1},
                                   /pingu/hair 5 color={#1}},
  hair style/.forward to        = /pingu/hairstyle,
  hairstyle/.code               = \pingu@hairstyle@select{#1},
  % TODO: glow color
  % size
  height/.code                  = \setlength{\pingu@side@h@half}{#1},%
  defaults/.style               = {%
	name={pingu}, feet={pingu@yellow}, body={pingu@main}, %
	eyes={normal}, eyes color={pingu@black}, second eyes color={pingu@white},
	bill={normal}, bill color={pingu@yellow},
	wings={normal}, wings color=\pingu@color@body@main,
	hairstyle={normal}, hairs color=\pingu@color@body@main,
	belly raw={}, scale=\pingu@default@scale,extra defaults%
  },
  % will be set individually
  extra defaults/.style = {}
}
% TODO: free defaults

\long\def\pingu@path{\@dblarg\pingu@path@}
\def\pingu@path@[#1]#2#3;{\protected@edef\@tmp{#2}\ifx\@tmp\@pingu@none\else\path[#1,#2] #3;\fi}
\long\def\pingu@block{\@dblarg\pingu@block@}
\def\pingu@block@[#1]#2#3;{\protected@edef\@tmp{#2}\ifx\@tmp\@pingu@none\else\path[#1,/pingu/@block=#2] #3;\fi}
\long\def\pingu@draw{\@dblarg\pingu@draw@}
\def\pingu@draw@[#1]#2#3;{\protected@edef\@tmp{#2}\ifx\@tmp\@pingu@none\else\path[#1,/pingu/@draw=#2] #3;\fi}

\newcommand*\pingu[1][]{\begingroup
\tikzset{/pingu/.cd, defaults, #1}%
\scope[/pingu/@pingu]
\@pingu@base

\pgfonlayer{background}
	\@pingu@drawer@hairstyle@
	\pingu@draw@feet
\endpgfonlayer

\coordinate (\pingu@name-belly-back) at (\pingu@w@half,-1cm);
\coordinate (\pingu@name-belly-center) at (\pingu@w@half,-.68\pingu@side@h@half);

\pingu@block[save path=\pingu@whitepingu]{pingu@white} (\pingu@name-belly-back)++(-\pingu@w@half+.1cm,\pingu@lower@off) to[bend right=.8\pingu@bend] ++(0,1.05cm-\pingu@side@h@half-\pingu@lower@off) arc (180:270:.4cm and .2cm) arc (270:360:.5cm and .085cm) -- ++(-\pingu@one@eight,0) arc (180:270:.5cm and .085cm) arc (270:360:.4cm and .2cm) to[bend right=.8\pingu@bend] ++(0,\pingu@side@h@half-1.05cm+\pingu@lower@off) arc (0:180:\pingu@w@half-1mm and \pingu@w@half-1mm);

\coordinate (\pingu@name-heartp-right) at ([xshift=-.275cm,yshift=.25cm-\pingu@outer@off]\pingu@name-bottom-top-center);
\coordinate (\pingu@name-heartp-left) at ([xshift=.275cm,yshift=.25cm-\pingu@outer@off]\pingu@name-bottom-top-center);
\pingu@block{pingu@white} (\pingu@name-heartp-right)++(0,-.025cm) ellipse [x radius=.525cm,y radius=.65cm];
\pingu@block{pingu@white} (\pingu@name-heartp-left)++(0,-.025cm) ellipse [x radius=.525cm,y radius=.65cm];

\path (\pingu@name-bottom-top-center)++(0,-.005cm-\pingu@outer@off) coordinate (\pingu@name-bill);

\pingu@draw@extras@below

\@pingu@drawer@leftwing@
\@pingu@drawer@rightwing@


\coordinate (\pingu@name-head) at (\pingu@w@half,.7375cm);
% TODO: more lengths

\@pingu@drawer@lefteye@
\@pingu@drawer@righteye@

\@pingu@drawer@bill@

\scope[shift=(\pingu@name-belly-center)]
\clip[use path=\pingu@whitepingu];
\pingu@belly@raw
\endscope

\pingu@draw@extras@above

\endscope
\endgroup
}

\def\@pingu@base{%
	\pingu@block[save path=\pingu@lowerpingu]{\pingu@color@body@main} (0,\pingu@outer@off)
		% left side
		to[bend right=\pingu@bend] ++(0,-\pingu@side@h@half-\pingu@outer@off)
		% feety stuff
		arc (180:270:\pingu@foot@outer@w{} and \pingu@foot@outer@h) coordinate (\pingu@name-foot-right)
		arc (270:360:\pingu@foot@inner@w{} and \pingu@foot@inner@h) -- ++(\pingu@foot@offset@w,0)
		coordinate[pos=.5,yshift=-\pingu@foot@inner@h*\pingu@scale] (\pingu@name-bottom-center)
		arc (180:270:\pingu@foot@inner@w{} and \pingu@foot@inner@h) coordinate (\pingu@name-foot-left)
		arc (270:360:\pingu@foot@outer@w{} and \pingu@foot@outer@h)%
		% right side
		to[bend right=\pingu@bend] ++(0,\pingu@side@h@half+\pingu@outer@off)
		% coordinate
		coordinate (\pingu@name-wings-side-left)
		-- (0,\pingu@outer@off) coordinate (\pingu@name-wings-side-right) coordinate[pos=.5] (\pingu@name-bottom-top-center) -- cycle;

	\pingu@block[save path=\pingu@upperpingu]{\pingu@color@body@head} (\pingu@name-bottom-top-center) ellipse[x radius=\pingu@w@half, y radius=.9\pingu@w@half];
	\coordinate (\pingu@name-head-top) at ([yshift=.9\pingu@w@half]\pingu@name-bottom-top-center);
}

%%% eyes %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% name core | left | right
\long\def\@pingu@eyes@s#1#2#3{%
	\tikzset{%
		/pingu/eyes #1/.style   = {/pingu/eyes={#1}, /pingu/eyes color={##1}},%
		/pingu/eyes #1/.default = pingu@black%
	}%
	\pingu@lefteye@add{#1}{#2}\pingu@righteye@add{#1}{#3}%
}

\@pingu@eyes@s{normal}{%
	\pingu@block{\pingu@color@eye@left} ([yshift=.075cm,xshift=\pingu@eye@shift]\pingu@name-heartp-left) coordinate (\pingu@name-left-eye) ellipse [x radius=.1225cm, y radius=.1275cm];
}{%
	\pingu@block{\pingu@color@eye@right} ([yshift=.075cm,xshift=-\pingu@eye@shift]\pingu@name-heartp-right) coordinate(\pingu@name-right-eye) ellipse [x radius=.1225cm, y radius=.1275cm];
}

\@pingu@eyes@s{shiny}{%
	\pingu@block{\pingu@color@eye@left} ([yshift=.075cm,xshift=\pingu@eye@shift]\pingu@name-heartp-left) coordinate(\pingu@name-left-eye) ellipse [x radius=.22cm, y radius=.26cm];
	\pingu@block{\pingu@color@eye@second@left} (\pingu@name-left-eye)++(\eyebaseang:.085cm and .10cm) ellipse [x radius=.08cm, y radius=.1cm];
	\pingu@block{\pingu@color@eye@second@left} (\pingu@name-left-eye)++(\eyebaseang+180:.12cm and .14cm) ellipse [x radius=.025cm, y radius=.035cm];
}{%
	\pingu@block{\pingu@color@eye@right} ([yshift=.075cm,xshift=-\pingu@eye@shift]\pingu@name-heartp-right) coordinate(\pingu@name-right-eye) ellipse [x radius=.22cm, y radius=.26cm];
	\pingu@block{\pingu@color@eye@second@right} (\pingu@name-right-eye)++(\eyebaseang:.085cm and .10cm) ellipse [x radius=.08cm, y radius=.1cm];
	\pingu@block{\pingu@color@eye@second@right} (\pingu@name-right-eye)++(\eyebaseang+180:.12cm and .14cm) ellipse [x radius=.025cm, y radius=.035cm];
}

\@pingu@eyes@s{wink}{%
	\coordinate (\pingu@name-left-eye) at ([yshift=.075cm,xshift=\pingu@eye@shift]\pingu@name-heartp-left);
	\pingu@block[rounded corners=.002cm,rotate around={-4:(\pingu@name-left-eye)}]{\pingu@color@eye@left} (\pingu@name-left-eye)++(174:.14cm and .14cm)++(0,-.065cm) arc (174:6:.14cm and .14cm) arc (-6:-174:.01cm and .008cm) arc (6:174:.12cm and .065cm) arc (-6:-174:.01cm and .008cm) -- cycle;
}{%
	\coordinate (\pingu@name-right-eye) at ([yshift=.075cm,xshift=-\pingu@eye@shift]\pingu@name-heartp-right);
	\pingu@block[rounded corners=.002cm,rotate around={4:(\pingu@name-right-eye)}]{\pingu@color@eye@right} (\pingu@name-right-eye)++(174:.14cm and .14cm)++(0,-.065cm) arc (174:6:.14cm and .14cm) arc (-6:-174:.01cm and .008cm) arc (6:174:.12cm and .065cm) arc (-6:-174:.01cm and .008cm) -- cycle;
}

\@pingu@eyes@s{shock}{%
	\pingu@block{\pingu@color@eye@left} ([yshift=.075cm,xshift=\pingu@eye@shift]\pingu@name-heartp-left) coordinate (\pingu@name-left-eye) ellipse [x radius=.1535cm, y radius=.1575cm];
	\pingu@block{\pingu@color@eye@second@left} ([yshift=.075cm,xshift=\pingu@eye@shift]\pingu@name-heartp-left) coordinate (\pingu@name-left-eye) ellipse [x radius=.1325cm, y radius=.1375cm];
}{%
	\pingu@block{\pingu@color@eye@right} ([yshift=.075cm,xshift=-\pingu@eye@shift]\pingu@name-heartp-right) coordinate(\pingu@name-right-eye) ellipse [x radius=.1535cm, y radius=.1575cm];
	\pingu@block{\pingu@color@eye@second@right} ([yshift=.075cm,xshift=-\pingu@eye@shift]\pingu@name-heartp-right) coordinate(\pingu@name-right-eye) ellipse [x radius=.1325cm, y radius=.1375cm];
}

\@pingu@eyes@s{angry}{%
	\path (\pingu@name-heartp-left)++(\pingu@eye@shift,.75mm) coordinate (\pingu@name-left-eye);
	\pingu@block{\pingu@color@eye@left} (\pingu@name-left-eye) ellipse [x radius=.1225cm, y radius=.1275cm];
	\pingu@block{pingu@white} (\pingu@name-left-eye) ++(120:.1225cm and .1275cm) ellipse [x radius=1.5mm,y radius=.5mm];
}{%
	\path (\pingu@name-heartp-right)++(-\pingu@eye@shift,.75mm) coordinate (\pingu@name-right-eye);
	\pingu@block{\pingu@color@eye@right} (\pingu@name-right-eye) ellipse [x radius=.1225cm, y radius=.1275cm];
	\pingu@block{pingu@white} (\pingu@name-right-eye) ++(60:.1225cm and .1275cm) ellipse [x radius=1.5mm,y radius=.5mm];
}

\let\@pingu@eyes@s\relax

%%% Wings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% name core | left | right
\long\def\@pingu@wings@s#1#2#3{%
	\tikzset{%
		/pingu/wings #1/.style   = {/pingu/wings={#1}, /pingu/wings color={##1}},%
		/pingu/wings #1/.default = \pingu@color@body@main%
	}%
	\pingu@leftwing@add{#1}{#2}\pingu@rightwing@add{#1}{#3}%
}
\@pingu@wings@s{normal}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-left-start) at ([yshift=-.7cm]\pingu@name-wings-side-left);
	\pingu@block[rotate around={15:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.195cm, y radius=9mm] +(-90:.195cm and 9mm) coordinate (\pingu@name-wings-left-tip) +(-90:.145cm and .75cm) coordinate (\pingu@name-wings-left);
\endpgfonlayer}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-right-start) at ([yshift=-.7cm]\pingu@name-wings-side-right);
	\pingu@block[rotate around={-15:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.195cm, y radius=9mm] +(-90:.195cm and 9mm) coordinate (\pingu@name-wings-right-tip) +(-90:.145cm and .75cm) coordinate (\pingu@name-wings-right);
\endpgfonlayer}


\@pingu@wings@s{wave}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-left-start) at ([yshift=-6mm]\pingu@name-wings-side-left);
	\pingu@block[rotate around={-39:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.225cm, y radius=.925cm] +(90:.225cm and .925cm) coordinate (\pingu@name-wings-left-tip) +(90:.175cm and .775cm) coordinate (\pingu@name-wings-left);
\endpgfonlayer}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-right-start) at ([yshift=-6mm]\pingu@name-wings-side-right);
	\pingu@block[rotate around={39:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.225cm, y radius=.925cm] +(90:.225cm and .925cm) coordinate (\pingu@name-wings-right-tip) +(90:.175cm and .775cm) coordinate (\pingu@name-wings-right);
\endpgfonlayer}

\@pingu@wings@s{raise}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-left-start) at ([yshift=-6mm]\pingu@name-wings-side-left);
	\pingu@block[rotate around={-17:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.195cm, y radius=.925cm] +(90:.195cm and .925cm) coordinate (\pingu@name-wings-left-tip) +(90:.145cm and .775cm) coordinate (\pingu@name-wings-left);
\endpgfonlayer}{%
\pgfonlayer{background}
	\coordinate (\pingu@name-wings-right-start) at ([yshift=-6mm]\pingu@name-wings-side-right);
	\pingu@block[rotate around={17:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.195cm, y radius=.925cm] +(90:.195cm and .925cm) coordinate (\pingu@name-wings-right-tip) +(90:.145cm and .775cm) coordinate (\pingu@name-wings-right);
\endpgfonlayer}

\@pingu@wings@s{grab}{%
\pgfonlayer{foreground}
\scope
	\clip[use path=\pingu@lowerpingu];
	\coordinate (\pingu@name-wings-left-start) at ([yshift=-4.5mm]\pingu@name-wings-side-left);
	\pingu@block[rotate around={-42:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.225cm, y radius=1.05cm] +(-90:.225cm and 1.05cm) coordinate (\pingu@name-wings-left-tip) +(-90:.175cm and 9mm) coordinate (\pingu@name-wings-left);
\endscope\endpgfonlayer}{%
\pgfonlayer{foreground}
\scope
	\clip[use path=\pingu@lowerpingu];
	\coordinate (\pingu@name-wings-right-start) at ([yshift=-4.5mm]\pingu@name-wings-side-right);
	\pingu@block[rotate around={42:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.225cm, y radius=1.05cm] +(-90:.225cm and 1.05cm) coordinate (\pingu@name-wings-right-tip) +(-90:.175cm and 9mm) coordinate (\pingu@name-wings-right);
\endscope\endpgfonlayer}

\@pingu@wings@s{shock}{%
\pgfonlayer{foreground}
\scope
	\clip[use path=\pingu@lowerpingu];
	\coordinate (\pingu@name-wings-left-start) at ([yshift=-8mm]\pingu@name-wings-side-left);
	\pingu@block[rotate around={65:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.235cm, y radius=.85cm] +(90:.235cm and .85cm) coordinate (\pingu@name-wings-left-tip) +(90:.185cm and .7cm) coordinate (\pingu@name-wings-left);
\endscope\endpgfonlayer}{%
\pgfonlayer{foreground}
\scope
	\clip[use path=\pingu@lowerpingu];
	\coordinate (\pingu@name-wings-right-start) at ([yshift=-8mm]\pingu@name-wings-side-right);
	\pingu@block[rotate around={-65:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.235cm, y radius=.85cm] +(90:.235cm and .85cm) coordinate (\pingu@name-wings-right-tip) +(90:.185cm and .7cm) coordinate (\pingu@name-wings-right);
\endscope\endpgfonlayer}

\@pingu@wings@s{hug}{%
\pgfonlayer{background}
\coordinate (\pingu@name-wings-left-start) at ([yshift=-.5cm]\pingu@name-wings-side-left);
\pingu@block[rotate around={-132:(\pingu@name-wings-left-start)}]{\pingu@color@left@wing} (\pingu@name-wings-left-start) ellipse [x radius=.24cm, y radius=.925cm] +(90:.24cm and .925cm) coordinate (\pingu@name-wings-left-tip) +(90:.175cm and .775cm) coordinate (\pingu@name-wings-left);
\endpgfonlayer}{%
\pgfonlayer{background}
\coordinate (\pingu@name-wings-right-start) at ([yshift=-.5cm]\pingu@name-wings-side-right);
\pingu@block[rotate around={132:(\pingu@name-wings-right-start)}]{\pingu@color@right@wing} (\pingu@name-wings-right-start) ellipse [x radius=.24cm, y radius=.925cm] +(90:.24cm and .925cm) coordinate (\pingu@name-wings-right-tip) +(90:.175cm and .775cm) coordinate (\pingu@name-wings-right);
\endpgfonlayer}

\let\@pingu@wings@s\relax

%%% Hairstyle %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pingu@hairstyle@add{normal}{%
\scope[rounded corners=.008cm]
\pingu@block{\pingu@color@hair@a} ([yshift=-1mm]\pingu@name-head-top) -- ++(.15mm,0) arc (0:90:\pingu@one@eight{} and .135cm) arc (90:0:.035cm and .075cm);
\pingu@block{\pingu@color@hair@b} ([yshift=-1mm]\pingu@name-head-top) -- ++(.033cm,0) arc (0:90:\pingu@one@eight{} and .175cm) arc (90:0:.035cm and .1cm);
\pingu@block{\pingu@color@hair@c} ([yshift=-1mm]\pingu@name-head-top) -- ++(-.033cm,0) arc (180:90:.17cm and .215cm) arc (90:180:.075cm and .18cm);
\pingu@block{\pingu@color@hair@d} ([yshift=-1mm]\pingu@name-head-top) -- ++(.025cm,0) arc (180:90:\pingu@one@eight{} and .175cm) arc (90:180:.035cm and \pingu@one@eight);
\pingu@block{\pingu@color@hair@e} ([yshift=-1mm]\pingu@name-head-top) -- ++(.044cm,0) arc (180:90:\pingu@one@eight{} and .135cm) arc (90:180:.035cm and .075cm);
\endscope}

%%% Feet %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\pingu@draw@feet{%
	\coordinate (\pingu@name-foot-right-1) at ([xshift=-.5\pingu@foot@single@h]\pingu@name-foot-right);
	\coordinate (\pingu@name-foot-right-2) at (\pingu@name-foot-right);
	\coordinate (\pingu@name-foot-right-3) at ([xshift= .5\pingu@foot@single@h]\pingu@name-foot-right);
	\pingu@block[rotate around={-25-\basicfeetbend:(\pingu@name-foot-right-1)}]{\pingu@color@foot@right} (\pingu@name-foot-right-1) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];
	\pingu@block[rotate around={-\basicfeetbend:(\pingu@name-foot-right-2)}]{\pingu@color@foot@right} (\pingu@name-foot-right-2) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];
	\pingu@block[rotate around={25-\basicfeetbend:(\pingu@name-foot-right-3)}]{\pingu@color@foot@right} (\pingu@name-foot-right-3) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];

	\coordinate (\pingu@name-foot-left-1) at ([xshift=-.5\pingu@foot@single@h]\pingu@name-foot-left);
	\coordinate (\pingu@name-foot-left-2) at (\pingu@name-foot-left);
	\coordinate (\pingu@name-foot-left-3) at ([xshift= .5\pingu@foot@single@h]\pingu@name-foot-left);
	\pingu@block[rotate around={-25+\basicfeetbend:(\pingu@name-foot-left-1)}]{\pingu@color@foot@left} (\pingu@name-foot-left-1) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];
	\pingu@block[rotate around={\basicfeetbend:(\pingu@name-foot-left-2)}]{\pingu@color@foot@left} (\pingu@name-foot-left-2) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];
	\pingu@block[rotate around={25+\basicfeetbend:(\pingu@name-foot-left-3)}]{\pingu@color@foot@left} (\pingu@name-foot-left-3) ellipse [x radius=\pingu@foot@single@w,y radius=\pingu@foot@single@h];
}

%%% Bill %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% name core | main
\long\def\@pingu@bill@s#1#2{%
	\tikzset{%
		/pingu/bill #1/.style   = {/pingu/bill={#1}, /pingu/bill color={##1}},%
		/pingu/bill #1/.default = pingu@yellow% TODO: defaults
	}%
	\pingu@bill@add{#1}{#2}%
}
\@pingu@bill@s{normal}{%
\pingu@block{\pingu@color@bill} (\pingu@name-bill)++(-.19cm,0)
	arc (180:360:.19cm and .225cm)
	coordinate[pos=.5] (\pingu@name-bill-bottom)
	to[bend right=.25cm] cycle;
}

\@pingu@bill@s{flat}{%
\pingu@block{\pingu@color@bill} (\pingu@name-bill)++(-.19cm,0)
	arc (180:360:.19cm and .225cm)
	coordinate[pos=.5] (\pingu@name-bill-bottom)
	-- cycle;
}


\@pingu@bill@s{angry}{%
\pingu@block{\pingu@color@bill} (\pingu@name-bill)++(-.19cm,0)
	to[out=-90,in=170] ++(1.9mm,-2.25mm) coordinate (\pingu@name-bill-bottom)
	to[out=10,in=-90] ++(1.9mm,2.25mm)
	to[bend right=.25cm] cycle;
}

%%% Extras %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\pingu@draw@extras@below{%
	\if@pingu@x@tie@ \pingu@draw@eb@tie \fi
	\if@pingu@x@bowtie@ \pingu@draw@eb@bowtie \fi
	\if@pingu@x@cup@ \pingu@draw@eb@cup \fi
}

% .########.####.########
% ....##.....##..##......
% ....##.....##..##......
% ....##.....##..######..
% ....##.....##..##......
% ....##.....##..##......
% ....##....####.########
\pingu@create@extra{tie}{%
	tie/.code         = \pingu@set@extra{tie}{true}\pingu@color{tie}{#1},
	tie/.default      = pingu@green,
	tie knot/.code    = \pingu@color{tie@knot}{#1},
	tie length/.code  = \def\pingu@x@tie@length{#1},
	tie offset/.code  = \def\pingu@x@tie@offset{#1},
	tie width/.code   = \def\pingu@x@tie@width{#1},
	tie pattern/.code = \def\pingu@x@tie@pattern{#1},
	tie dots/.style   = {%
		tie pattern={%
			\pingu@block[postaction={pattern={Dots[angle=40,distance=1.5pt,radius=.35pt]},pattern color=#1}]{\pingu@color@tie} \pingupathxtie;
			\pingu@block[postaction={pattern={Dots[angle=-30,distance=1.45pt,radius=.35pt@]},pattern color=#1}]{\pingu@color@tie@knot} \pingupathxtieknot;
		}
	}
}{% defaults
	tie length=.625\pingu@side@h@half,  tie offset=.399cm,%
	tie knot=\pingu@color@tie!92!black, tie width=.21cm,%
	tie pattern={%
		\pingu@block{\pingu@color@tie} \pingupathxtie;
		\pingu@block{\pingu@color@tie@knot} \pingupathxtieknot;
	}%
}
\def\pingupathxtie{[rounded corners=.15mm] (\pingu@name-tie-start)++(-.04cm,-.025cm) -- ++(-\pingu@x@tie@width/2, -\pingu@x@tie@length+.125cm) -- ++(\pingu@x@tie@width/2+.04cm,-.125cm) -- ++(\pingu@x@tie@width/2+.04cm,.125cm) -- +(-\pingu@x@tie@width/2, \pingu@x@tie@length-.125cm) -- cycle}
\def\pingupathxtieknot{[rounded corners=.025cm] (\pingu@name-tie-start)++(-.095cm-.02*\pingu@x@tie@width,0cm) -- ++(.03cm,-.15cm-.01*\pingu@x@tie@width) -- ++(.13cm+.04*\pingu@x@tie@width,0cm) -- ++(.03cm,.15cm+.01*\pingu@x@tie@width) -- cycle}
\def\pingu@draw@eb@tie{%
	\path (\pingu@name-bill)++(0,-\pingu@x@tie@offset) coordinate(\pingu@name-tie-start);
	\pingu@x@tie@pattern
}

% .########...#######..##......##....########.####.########
% .##.....##.##.....##.##..##..##.......##.....##..##......
% .##.....##.##.....##.##..##..##.......##.....##..##......
% .########..##.....##.##..##..##.......##.....##..######..
% .##.....##.##.....##.##..##..##.......##.....##..##......
% .##.....##.##.....##.##..##..##.......##.....##..##......
% .########...#######...###..###........##....####.########
\pingu@create@extra{bowtie}{%
	bowtie/.forward to         = /pingu/bow tie,
	bow-tie/.forward to        = /pingu/bow tie,
	bow tie/.code              = \pingu@set@extra{bowtie}{true}\pingu@color{bowtie}{#1},
	bow tie b/.code            = \pingu@color{bowtie@b}{#1},
	bow tie/.default           = pingu@blue,
	bowtie offset/.forward to  = /pingu/bow tie offset,
	bow-tie offset/.forward to = /pingu/bow tie offset,
	bow tie offset/.code       = \def\pingu@x@bowtie@offset{#1},
	bowtie knot/.forward to    = /pingu/bow tie knot,
	bow-tie knot/.forward to   = /pingu/bow tie knot,
	bow tie knot/.code         = \pingu@color{bowtie@knot}{#1},
}{% defaults
	bow tie knot=\pingu@color@bowtie!92!black,bow tie offset=.315cm,%
	bow tie b=\pingu@color@bowtie%
}

\def\pingupathxbowtieknot{[rounded corners=.025cm] (\pingu@name-bow-tie-start)++(-.0625cm,-.035cm) to[bend right=10] ++(.125cm,0) -- ++(0,-.13cm) to[bend right=10] ++(-.125cm, 0) -- cycle}
\def\pingupathxbowtieleft{[rounded corners=.025cm]  (\pingu@name-bow-tie-start)++(-.15mm,-.06cm) to[out=155,in=-5] ++(-.25cm,.065cm) to[bend right=15] ++(0,-.21cm) to[in=-155,out=5] ++(.25cm,.065cm) -- cycle}
\def\pingupathxbowtieright{[rounded corners=.025cm]  (\pingu@name-bow-tie-start)++(.15mm,-.06cm) to[out=25,in=-175] ++(.25cm,.065cm) to[bend left=15] ++(0,-.21cm) to[in=-25,out=175] ++(-.25cm,.065cm) -- cycle}
\def\pingu@draw@eb@bowtie{%
	\path (\pingu@name-bill)++(0,-\pingu@x@bowtie@offset) coordinate(\pingu@name-bow-tie-start);
	\pingu@block{\pingu@color@bowtie} \pingupathxbowtieleft;
	\pingu@block{\pingu@color@bowtie@b} \pingupathxbowtieright;
	\pingu@block{\pingu@color@bowtie@knot} \pingupathxbowtieknot;
}


% ..######..##.....##.########.
% .##....##.##.....##.##.....##
% .##.......##.....##.##.....##
% .##.......##.....##.########.
% .##.......##.....##.##.......
% .##....##.##.....##.##.......
% ..######...#######..##.......
\pingu@create@extra{cup}{%
  % extra cup % TODO: as selection
  cup/.code       = \pingu@set@extra{cup}{true}\pingu@color{cup}{#1},
  cup/.default    = pingu@green,
  cup straw/.code = \pingu@color{cup@straw}{#1}%
}{cup straw=\pingu@color@cup}

\def\pingu@draw@eb@cup{%
	\pingu@block[rounded corners=.025cm]{\pingu@color@cup} (\pingu@name-belly-center)++(-.325cm,.275cm) to[bend right=2] ++(.05cm,-.675cm) to[bend right=8] ++(.55cm,0cm) to[bend right=2] ++(.05cm,.675cm);
	\path (\pingu@name-belly-center)++(0,.275cm) -- (\pingu@name-bill) coordinate[pos=.5,xshift=-.2cm] (\pingu@name-cup-straw-outer-angle);
	\path (\pingu@name-belly-center)++(-.115cm,.275cm) coordinate (\pingu@name-straw-outer-start);
	\pingu@block[rounded corners=.15mm]{\pingu@color@cup@straw} (\pingu@name-straw-outer-start) -- (\pingu@name-cup-straw-outer-angle) -- (\pingu@name-bill) -- ++(.05cm,0) -- ([xshift=.05cm]\pingu@name-cup-straw-outer-angle) -- ([xshift=.05cm]\pingu@name-straw-outer-start) -- cycle;
	\pingu@block{\pingu@color@cup} (\pingu@name-belly-center)++(0,.275cm) ellipse [x radius=.325cm,y radius=.05cm];
}

% TODO: auto append?
% probably not; allows for clear drawing order independent of addition/deps
\def\pingu@draw@extras@above{%
	\if@pingu@x@eyeframe@ \pingu@draw@ea@eyeframe \fi
	\if@pingu@x@glasses@ \pingu@draw@ea@glasses \fi
	\if@pingu@x@glassesround@ \pingu@draw@ea@glassesround \fi
	\if@pingu@x@strawhat@ \pingu@draw@ea@strawhat \fi
	\if@pingu@x@hat@ \pingu@draw@ea@hat \fi
	\if@pingu@x@halo@ \pingu@draw@ea@halo \fi
}

% ..######..########.########.....###....##......##....##.....##....###....########
% .##....##....##....##.....##...##.##...##..##..##....##.....##...##.##......##...
% .##..........##....##.....##..##...##..##..##..##....##.....##..##...##.....##...
% ..######.....##....########..##.....##.##..##..##....#########.##.....##....##...
% .......##....##....##...##...#########.##..##..##....##.....##.#########....##...
% .##....##....##....##....##..##.....##.##..##..##....##.....##.##.....##....##...
% ..######.....##....##.....##.##.....##..###..###.....##.....##.##.....##....##...
\pingu@create@extra{strawhat}{%
  % extra strawhat (tikzducks basis)
  straw hat/.forward to         = /pingu/strawhat,
  strawhat/.default             = brown!50!white,
  strawhat/.code                = \pingu@set@extra{strawhat}{true}\pingu@color{strawhat}{#1},
  straw hat ribbon/.forward to  = /pingu/strawhat ribbon,
  strawhat ribbon/.code         = \pingu@color{strawhat@ribbon}{#1},
  straw hat position/.forward to= /pingu/strawhat position,
  strawhat position/.code args  = {#1:(#2,#3)#4}{\def\pingu@x@strawhat@angle{#1}\def\pingu@x@strawhat@xshift{#2}\def\pingu@x@strawhat@yshift{#3}\def\pingu@x@strawhat@scale{#4}},
}{strawhat ribbon= gray!85!black,strawhat position={-26.5:(-.185cm,.14cm){1.375}}}

\def\pingu@draw@ea@strawhat{%
\scope[rotate around={\pingu@x@strawhat@angle:(\pingu@name-head)},shift={(\pingu@name-head)},shift={(\pingu@x@strawhat@xshift,\pingu@x@strawhat@yshift)},scale=\pingu@x@strawhat@scale]
\pingu@block{\pingu@color@strawhat} (.34cm,\z@) ellipse[x radius=.75cm, y radius=.1cm];
\pingu@block{\pingu@color@strawhat} (\z@,.05cm) rectangle (.68cm,.5cm);
\pingu@block{\pingu@color@strawhat} (.34cm,.5cm) ellipse[x radius=.34cm, y radius=.08cm];
\pingu@block{\pingu@color@strawhat} (-.3955cm,.02cm) -- (1.0755cm,.02cm) -- (.68cm,.2cm) -- (0,.2cm) -- cycle;
\pingu@block{\pingu@color@strawhat@ribbon} (.34cm,.2cm) ellipse[x radius=.34cm, y radius=.08cm];
\pingu@block{\pingu@color@strawhat@ribbon} (\z@,.2cm) rectangle (.68cm,.3cm);
\pingu@block{\pingu@color@strawhat} (.34cm,.3cm) ellipse[x radius=.34cm, y radius=.08cm];
\endscope}

% .##.....##....###....########
% .##.....##...##.##......##...
% .##.....##..##...##.....##...
% .#########.##.....##....##...
% .##.....##.#########....##...
% .##.....##.##.....##....##...
% .##.....##.##.....##....##...
\pingu@create@extra{hat}{%
  hat/.default   = pingu@black!90!black,
  hat/.code      = \pingu@set@extra{hat}{true}\pingu@color{hat}{#1},
  hat base/.code = \pingu@color{hat@base}{#1},
  hat coronal/.code = \pingu@color{hat@coronal}{#1},
  hat ribbon/.code = \pingu@color{hat@ribbon}{#1},
  hat position/.code args  = {#1:(#2,#3)#4}{\def\pingu@x@hat@angle{#1}\def\pingu@x@hat@xshift{#2}\def\pingu@x@hat@yshift{#3}\def\pingu@x@hat@scale{#4}},
}{hat position={-2:(.035cm,0)1},hat base=\pingu@color@hat,hat coronal=\pingu@color@hat!91!white,hat ribbon=\pingu@color@hat!87!white}

\newdimen\pingu@hat@w@half \pingu@hat@w@half=.925cm
\newdimen\pingu@hat@h \pingu@hat@h=.625cm
\def\pingupathhatupper{[rounded corners=.025cm](-.65cm,-.25cm) to[out=90,in=200] ++(.35cm,\pingu@hat@h) to[bend left=11] ++(.25cm,0) to[bend right=2.5] ++(.1cm,0) to[bend left=11] ++(.25cm,0) to[out=-20,in=90] ++(.35cm,-\pingu@hat@h) to[bend left=12] cycle}
\def\pingu@draw@ea@hat{%
\scope[rotate around={\pingu@x@hat@angle:(\pingu@name-head-top)},shift={(\pingu@name-head-top)},shift={(\pingu@x@hat@xshift,\pingu@x@hat@yshift)},scale=\pingu@x@hat@scale]
\pingu@block[draw=\pingu@color@hat@coronal,thick]{\pingu@color@hat@base} (0,-.25cm)++(180:\pingu@hat@w@half{} and .15cm) arc (180:360:\pingu@hat@w@half{} and .15cm) arc (0:180:\pingu@hat@w@half{} and .115cm) -- cycle;
\pingu@block{\pingu@color@hat} \pingupathhatupper;
\scope
\clip\pingupathhatupper;
\pingu@block{\pingu@color@hat@ribbon} (0cm,0.02cm) ellipse [x radius=.95\pingu@hat@w@half, y radius=.13cm];
\pingu@block{\pingu@color@hat} (0cm,.134cm) ellipse [x radius=.95\pingu@hat@w@half, y radius=.13cm];
\endscope
\endscope
}


% .##.....##....###....##........#######.
% .##.....##...##.##...##.......##.....##
% .##.....##..##...##..##.......##.....##
% .#########.##.....##.##.......##.....##
% .##.....##.#########.##.......##.....##
% .##.....##.##.....##.##.......##.....##
% .##.....##.##.....##.########..#######.
\pingu@create@extra{halo}{%
	% extra halo
	halo/.code    = \pingu@set@extra{halo}{true}\pingu@color{halo}{#1},
	halo/.default = pingu@lightblue,
}{}

\def\pingu@draw@ea@halo{%
	% TODO: dynamic offsets
\pingu@block[even odd rule]{\pingu@color@halo} (\pingu@name-head-top) circle [x radius=\pingu@w@half-1mm,y radius=.25cm] circle [x radius=\pingu@w@half-.195cm,y radius=.155cm];
}

% .########.##....##.########.########.########.....###....##.....##.########
% .##........##..##..##.......##.......##.....##...##.##...###...###.##......
% .##.........####...##.......##.......##.....##..##...##..####.####.##......
% .######......##....######...######...########..##.....##.##.###.##.######..
% .##..........##....##.......##.......##...##...#########.##.....##.##......
% .##..........##....##.......##.......##....##..##.....##.##.....##.##......
% .########....##....########.##.......##.....##.##.....##.##.....##.########
\pingu@create@extra{eyeframe}{%
	% extra halo
	eyeframe/.forward to = /pingu/eye frame,
	eye frame/.code = \pingu@set@extra{eyeframe}{true}\pingu@color{eyeframe}{#1},
	eye frame/.default = pingu@black,
}{}

\def\pingu@draw@ea@eyeframe{%
	% TODO: dynamic offsets
	\pingu@draw{\pingu@color@eyeframe} [rounded corners=.25mm](\pingu@name-left-eye)++(-2mm,1.5mm) to[bend left=8] ++(4.2mm,0) to[out=-80,in=70] ++(-.2mm,-2.75mm) to[bend left=32.5] ++(-3.65mm,0mm) to[out=135,in=-90] ++(-.8mm,2.7mm) -- cycle;
	\pingu@draw{\pingu@color@eyeframe} [rounded corners=.25mm](\pingu@name-right-eye)++(2mm,1.5mm) to[bend right=8] ++(-4.2mm,0) to[out=-100,in=110] ++(.2mm,-2.75mm) to[bend right=32.5] ++(3.65mm,0mm) to[out=45,in=-90] ++(.8mm,2.7mm) -- cycle;
}

% TODO: use save paths for everything

% ..######...##..........###.....######...######..########..######.
% .##....##..##.........##.##...##....##.##....##.##.......##....##
% .##........##........##...##..##.......##.......##.......##......
% .##...####.##.......##.....##..######...######..######....######.
% .##....##..##.......#########.......##.......##.##.............##
% .##....##..##.......##.....##.##....##.##....##.##.......##....##
% ..######...########.##.....##..######...######..########..######.
\pingu@create@extra{glasses}{%
	glasses/.code               = \pingu@set@extra{glasses}{true}\pingu@color{glasses}{#1},
	glasses/.default            = pingu@black,
	glasses left fill/.code     = \pingu@color{glasses@fill@l}{#1},
	glasses right fill/.code    = \pingu@color{glasses@fill@r}{#1},
	glasses left opacity/.code  = \def\pingu@x@glasses@op@l{#1},
	glasses right opacity/.code = \def\pingu@x@glasses@op@r{#1},
	glasses fill/.style         = {/pingu/glasses left fill=#1, /pingu/glasses right fill=#1},
	glasses opacity/.style      = {/pingu/glasses left opacity=#1, /pingu/glasses right opacity=#1},
	glasses line width/.code    = \def\pingu@x@glasses@lw{#1},
	sunglasses/.forward to      = /pingu/sun glasses,
	sun glasses/.style          = {/pingu/glasses, /pingu/glasses fill=#1},
	sun glasses/.default        = pingu@black,
}{glasses line width=1.125\p@,glasses fill=\@pingu@none,glasses opacity=.825}

\def\pingu@draw@ea@glasses{% fact: 1.33; modified first shift and ht
	\pingu@block[opacity=\pingu@x@glasses@op@l]{\pingu@color@glasses@fill@l} (\pingu@name-left-eye)++(-2.66mm,1.75mm) to[bend left=8] ++(5.586mm,0) to[out=-80,in=70] ++(-.266mm,-3.6mm) to[bend left=32.5] ++(-4.8545mm,0mm) to[out=135,in=-90] ++(-1.064mm,3.5mm) -- cycle;
	\pingu@block[opacity=\pingu@x@glasses@op@r]{\pingu@color@glasses@fill@r} (\pingu@name-right-eye)++(2.66mm,1.75mm) to[bend right=8] ++(-5.586mm,0) to[out=-100,in=110] ++(.266mm,-3.6mm) to[bend right=32.5] ++(4.8545mm,0mm) to[out=45,in=-90] ++(1.064mm,3.5mm) -- cycle;
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses} [rounded corners=.25mm](\pingu@name-left-eye)++(-2.66mm,1.75mm) coordinate (\pingu@name-glasses-left-mid) to[bend left=8] ++(5.586mm,0) coordinate (\pingu@name-glasses-left-outer) to[out=-80,in=70] ++(-.266mm,-3.6mm) to[bend left=32.5] ++(-4.8545mm,0mm) to[out=135,in=-90] coordinate[pos=.9] (\pingu@name-glasses-left-mid-b) ++(-1.064mm,3.5mm) -- cycle;
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses} [rounded corners=.25mm] (\pingu@name-right-eye)++(2.66mm,1.75mm) coordinate (\pingu@name-glasses-right-mid) to[bend right=8] ++(-5.586mm,0) coordinate (\pingu@name-glasses-right-outer) to[out=-100,in=110] ++(.266mm,-3.6mm) to[bend right=32.5] ++(4.8545mm,0mm) to[out=45,in=-90] coordinate[pos=.9] (\pingu@name-glasses-right-mid-b) ++(1.064mm,3.5mm) -- cycle;
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses} (\pingu@name-glasses-right-mid) to[bend right=10] (\pingu@name-glasses-left-mid);
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses} (\pingu@name-glasses-right-mid-b) to[bend left=20] (\pingu@name-glasses-left-mid-b);
	\scope
	\clip[use path=\pingu@upperpingu];
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses}
	(\pingu@name-glasses-right-mid) to[bend right=8] ++(-5.586mm,0) -- ++(-5mm,.5mm);
	\pingu@draw[line width=\pingu@x@glasses@lw]{\pingu@color@glasses}
	(\pingu@name-glasses-left-mid) to[bend left=8] ++(5.586mm,0) -- ++(5mm,.5mm);
	\endscope
}

% ..######...##..........###.....######...######..########..######.....########...#######..##.....##.##....##.########.
% .##....##..##.........##.##...##....##.##....##.##.......##....##....##.....##.##.....##.##.....##.###...##.##.....##
% .##........##........##...##..##.......##.......##.......##..........##.....##.##.....##.##.....##.####..##.##.....##
% .##...####.##.......##.....##..######...######..######....######.....########..##.....##.##.....##.##.##.##.##.....##
% .##....##..##.......#########.......##.......##.##.............##....##...##...##.....##.##.....##.##..####.##.....##
% .##....##..##.......##.....##.##....##.##....##.##.......##....##....##....##..##.....##.##.....##.##...###.##.....##
% ..######...########.##.....##..######...######..########..######.....##.....##..#######...#######..##....##.########.
\pingu@create@extra{glassesround}{%
	glasses round/.code               = \pingu@set@extra{glassesround}{true}\pingu@color{glassesround}{#1},
	glasses round/.default            = pingu@black,
	glasses round left fill/.code     = \pingu@color{glassesround@fill@l}{#1},
	glasses round right fill/.code    = \pingu@color{glassesround@fill@r}{#1},
	glasses round fill/.style         = {/pingu/glasses round left fill=#1, /pingu/glasses round right fill=#1},
	glasses round left opacity/.code  = \def\pingu@x@glassesround@op@l{#1},
	glasses round right opacity/.code = \def\pingu@x@glassesround@op@r{#1},
	glasses round opacity/.style      = {/pingu/glasses round left opacity=#1, /pingu/glasses round right opacity=#1},
	glasses round left radius/.code  = \def\pingu@x@glassesround@r@l{#1},
	glasses round right radius/.code = \def\pingu@x@glassesround@r@r{#1},
	glasses round radius/.style      = {/pingu/glasses round left radius=#1, /pingu/glasses round right radius=#1},
	glasses round line width/.code    = \def\pingu@x@glassesround@lw{#1},
	sunglasses round/.forward to      = /pingu/sun glasses round,
	sun glasses round/.style          = {/pingu/glasses round, /pingu/glasses round fill=#1},
	sun glasses round/.default        = pingu@black,
	% todo: width/radius allow for different
}{glasses round line width=.75\p@,glasses round fill=\@pingu@none,glasses round opacity=.825,glasses round radius=3.15mm}

\def\pingu@draw@ea@glassesround{% fact: 1.33; modified first shift and ht
	\pingu@block[opacity=\pingu@x@glassesround@op@l]{\pingu@color@glassesround@fill@l} (\pingu@name-left-eye) circle [radius=\pingu@x@glassesround@r@l];
	\pingu@block[opacity=\pingu@x@glassesround@op@r]{\pingu@color@glassesround@fill@r} (\pingu@name-right-eye) circle [radius=\pingu@x@glassesround@r@r];
	\pingu@draw[line width=\pingu@x@glassesround@lw]{\pingu@color@glassesround} [rounded corners=.25mm](\pingu@name-left-eye) ++(150:\pingu@x@glassesround@r@l) coordinate (\pingu@name-glassesround-left-mid) arc (150:510:\pingu@x@glassesround@r@l);
	\pingu@draw[line width=\pingu@x@glassesround@lw]{\pingu@color@glassesround} [rounded corners=.25mm] (\pingu@name-right-eye) ++(30:\pingu@x@glassesround@r@r) coordinate (\pingu@name-glassesround-right-mid) arc (30:390:\pingu@x@glassesround@r@r);
	\pingu@draw[line width=\pingu@x@glassesround@lw]{\pingu@color@glassesround} (\pingu@name-glassesround-left-mid) to[bend right=30] (\pingu@name-glassesround-right-mid);
	\scope
	\clip[use path=\pingu@upperpingu];
	\pingu@draw[line width=\pingu@x@glassesround@lw]{\pingu@color@glassesround}
	 (\pingu@name-glassesround-right-mid) arc(30:150:\pingu@x@glassesround@r@l) -- ++(-5mm,.65mm);
	 \pingu@draw[line width=\pingu@x@glassesround@lw]{\pingu@color@glassesround}
	 (\pingu@name-glassesround-left-mid) arc(150:30:\pingu@x@glassesround@r@r) -- ++(5mm,.65mm);
	\endscope
}

\let\pingu@create@selection\relax
\let\pingu@create@extra\relax
\endinput